<ui:composition
	template="templates/sub_template/template_image_tiledlist.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:imjc="http://java.sun.com/jsf/composite/components"
	xmlns:dialog="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:menu="http://java.sun.com/jsf/composite/components/menu"
	xmlns:col="http://java.sun.com/jsf/composite/components/collection">

	<ui:param name="paginatorListSessionBean" value="#{CollectionItemsBean}" />
	<ui:param name="headline" value="" />
	<ui:param name="title" value="#{CollectionItemsBean.collection.title}" />
	<ui:param name="currentMainMenu" value="collection" />
	<ui:param name="browseToAllItemsUrl" value="#{Navigation.collectionUrl}#{CollectionItemsBean.id}/browse?q=" />
	<ui:param name="imejiResource" value="#{CollectionItemsBean.collection}" />

	 <ui:define name="authorization">
		 #{Auth.init(CollectionItemsBean.collection)}
	 </ui:define>
	 
	  <ui:define name="collectionAbout">	
		<div class="collectionAbout">
			<div class="collectionAboutTitle">#{CollectionItemsBean.collection.title}</div>
			<span class="collectionAboutAuthor">#{lbl.by} #{CollectionItemsBean.authorsShort}</span>
			<a href="" onclick="return false;">
				<span class="fa fa-caret-down" style="font-size:0.85em;" onclick="$('.collectionAboutHidden').slideDown(500);$('.fa-caret-up').show(); $(this).hide();"> #{lbl.more}</span>
				<span class="fa fa-caret-up" style="display:none;font-size:0.85em;" onclick="$('.collectionAboutHidden').slideUp(500);$('.fa-caret-down').show(); $(this).hide();"> #{lbl.less}</span>
			</a>
			<ui:fragment rendered="#{CollectionItemsBean.collection.status == 'WITHDRAWN'}">
				<div class="imj_infodataSet imj_mediaWithdrawn">
					#{lbl.withdrawn}<br/>
					<h:outputText value="#{CollectionItemsBean.collection.discardComment}" escape="false"/>
				</div>
			</ui:fragment>
		</div>
		
		<div class="collectionAboutHidden">
			<col:details bean="#{CollectionItemsBean}" applicationUrl="#{Navigation.applicationUrl}" lbl="#{lbl}"/>
		</div>
	 </ui:define>

	<ui:define name="searchQuery">
		<imjc:searchQueryDisplayArea searchBean="#{paginatorListSessionBean}"
			navBean="#{Navigation}"
			rendered="#{paginatorListSessionBean.simpleQuery != ''}"
			label="#{lbl.search_for} #{HistorySession.currentPage.getInternationalizedName(InternationalizationBean.locale)}" />
	</ui:define>

</ui:composition>
