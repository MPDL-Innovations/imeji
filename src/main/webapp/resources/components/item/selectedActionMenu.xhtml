<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:dialog="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:item="http://java.sun.com/jsf/composite/components/item">
	
	<composite:interface>		
		<composite:attribute name="itemsBean"/>								
	</composite:interface>
	
	<composite:implementation>
		<h:form>
			#{SessionBean.selected.size()} #{lbl.selected} #{SessionBean.selected.size() > 1 ? lbl.items : lbl.item}
			<small>
			(<h:commandLink action="#{cc.attrs.itemsBean.selectNone}" id="lnkSelectNone" title="#{lbl.select_none}" value="clear" >
				<f:ajax execute="@this" render=":ajaxWrapper :actionsMenuArea"/>
			</h:commandLink>)</small>
		</h:form>
		<ui:fragment rendered="#{Auth.update}">
			<a href="#{Navigation.applicationUrl}editselected" class="imj_menuButton imj_overlayMenu">
				<span class="fa fa-tags"/> <span>#{lbl.describe_items}</span>
			</a>
			<ui:fragment rendered="#{WorkflowBean.delete(cc.attrs.itemsBean.collection)}">
				<a href="#" class="imj_menuButton imj_overlayMenu"  onclick="openDialog('deleteSelectedItems');">
					<span class="fa fa-trash"/> <span>#{lbl.images_delete}</span>
				</a>
			</ui:fragment>
		</ui:fragment>
		<a id="download" href="#{Navigation.applicationUrl}exportServlet?format=zip" class="imj_overlayMenu imj_menuButton" target="_blank">
			<span class="fa fa-download"/> <span>#{lbl.download_files}</span>
		</a>
		<ui:fragment rendered="#{Auth.update}">
			<div class="imj_overlayMenu imj_contentSubMenuItem imj_menuButton" id="actionSelectedMore">
				<div class="imj_menuHeader">
	                  <span class="fa fa-bars"></span>
	                  <span class="imj_headerEntry"> #{lbl.more}</span>
				</div>
				<div class="imj_menuBody">
					<ul class="imj_overlayMenuList">
						<li>
							<a href="#{Navigation.applicationUrl}edit/license" id="lnkSelectEditLicense">
								<span class="fa fa-copyright"/> <span>#{lbl.edit_all_licenses}</span>
							</a>
						</li>
						<ui:fragment rendered="#{Auth.admin and WorkflowBean.withdraw(cc.attrs.itemsBean.collection)}">
							<li>
								<a href="#" onclick="openDialog('withdrawSelectedItems');">
									<span class="fa fa-ban"/> <span>#{lbl.items_withdraw}</span>
								</a>
							</li>
						</ui:fragment>
						<ui:fragment rendered="#{cc.attrs.itemsBean.type == 'COLLECTION_ITEMS' and WorkflowBean.delete(cc.attrs.itemsBean.collection)}">
							<li>
								<h:form>
									<h:commandLink id="moveItems" action="#{MoveItemsBean.searchCollectionsForMove(cc.attrs.itemsBean.collection.id.toString())}" onclick="openDialog('moveItemsDialog');">
										<span class="fa fa-hand-o-right"/> <span>#{lbl.move}..</span>
										<f:ajax render=":actionSelectedItems:moveItemsComponent:moveItemsForm"/>
									</h:commandLink>
								</h:form>
							</li>
						
						</ui:fragment>
					</ul>
				</div>
			</div>
		</ui:fragment>
		<dialog:confirmationReasonedDialog submitAction="withdrawSelected" bean="#{cc.attrs.itemsBean}" confirmationText="#{msg.confirmation_withdraw_selected_item}?" submitLabel="#{lbl.withdraw_selected}" dialogId="withdrawSelectedItems"/>
		<dialog:confirmationDialog submitAction="deleteSelected" bean="#{cc.attrs.itemsBean}" confirmationText="#{msg.confirmation_delete_selected_item}?" submitLabel="#{lbl.delete_selectedImages}" dialogId="deleteSelectedItems" />
		<item:move id="moveItemsComponent" colId="#{cc.attrs.itemsBean.collection.id.toString()}" parentId=":actionSelectedItems:moveItemsComponent" />
	</composite:implementation>
</html>
