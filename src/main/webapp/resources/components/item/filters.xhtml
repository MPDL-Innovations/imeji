<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:composite="http://java.sun.com/jsf/composite"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:menu="http://java.sun.com/jsf/composite/components/menu"
	  xmlns:imj="http://java.sun.com/jsf/composite/components">
	  
	<composite:interface>
		<composite:attribute name="facetBean" required="false"/>
		<composite:attribute name="numberOfElements" required="false"/>
		<composite:attribute name="showSortMenu" required="false" default="false"/>
		<composite:attribute name="showStatusFilterMenu" type="java.lang.Boolean" default="false"/>
		<composite:attribute name="showUserFilterMenu" type="java.lang.Boolean" default="false"/>
	</composite:interface>
	
	<composite:implementation>
		<h:panelGroup layout="block" id="selectionInfoPanel" styleClass="imj_selectionInfoPanel">
			<a href="#" class="imj_openFilter imj_listHeader" onclick="document.getElementById('facetsArea').style.width = '70%'; return false;">
	        	<span class="fa fa-bars"/>
	        </a>
	        <div class="itemsCount">&#160;</div>
			<h:form>
				<ui:fragment rendered="#{SessionBean.selectedBrowseListView == 'THUMBNAIL' and cc.attrs.facetBean.collection.status != 'WITHDRAWN'}">
					<div class="imj_overlayMenu">
						<div class="imj_menuHeader">
							<h:commandLink onclick="startLoader();" action="#{cc.attrs.facetBean.selectAll}"  id="lnkSelectAllOnPage" title="#{lbl.select_all_on_page}"  styleClass="selectAll" rendered="#{!cc.attrs.facetBean.allSelected}" style="margin-right: 1em;">
								<h:outputText value="#{lbl.select_all_on_page}"/>
								<f:ajax execute="@this" render=":ajaxWrapper :actionsMenuArea"/>
							</h:commandLink>
							<h:commandLink onclick="startLoader();" action="#{cc.attrs.facetBean.selectNone}" id="lnkSelectNone" title="#{lbl.select_none}"  styleClass="selectNone" rendered="#{not empty SessionBean.selected}">
								<h:outputText value="#{lbl.select_none}"/>
								<f:ajax execute="@this" render=":ajaxWrapper :actionsMenuArea"/>
							</h:commandLink>
							
	                        &#160;
						</div>
					</div>
				</ui:fragment>
			
				<h:panelGroup layout="block" styleClass="imj_overlayMenu imj_menuRight #{cc.attrs.menuClass.trim()}Item" rendered="#{cc.attrs.facetBean != null and cc.attrs.showSortMenu and cc.attrs.numberOfElements > 0}">
					<div class="imj_menuHeader">
	                    <h:commandLink id="lnkSortAsc" value="" action="#{cc.attrs.facetBean.toggleSortOrder}" onclick="startLoader();">
	                    	<f:ajax execute="@this" render=":ajaxWrapper :Header:imj_pageMessageArea"/>
							<span class="fa #{cc.attrs.facetBean.selectedSortOrder == 'ASCENDING' ? 'fa-arrow-up' : 'fa-arrow-down' }"></span>
							 #{cc.attrs.facetBean.selectedSortCriterionLabel}
						</h:commandLink>
					</div>
					<div class="imj_menuBody">
					#{lbl.sort_by}:
						<ul class="imj_overlayMenuList">
							<ui:repeat var="sortItem" value="#{cc.attrs.facetBean.sortMenu}" varStatus="spos">
								<ui:fragment rendered="#{cc.attrs.facetBean.selectedSortCriterion != sortItem.value}">
									<li class="imj_overlayMenuListItem">
										<h:commandLink value="#{sortItem.label}" action="#{cc.attrs.facetBean.changeSelectedSortCriterion(sortItem.value)}"   onclick="startLoader();">
											<f:ajax execute="@this" render=":ajaxWrapper :Header:imj_pageMessageArea"/>
										</h:commandLink>
									</li>
								</ui:fragment>
							</ui:repeat>
						</ul>
					</div>
				</h:panelGroup>
			</h:form>
			<ui:fragment rendered="#{cc.attrs.facetBean != null and cc.attrs.showSortMenu}">
				<menu:StatusFilterMenu rendered="#{!Configuration.privateModus and cc.attrs.showStatusFilterMenu}"/>
				<menu:UserFilterMenu rendered="#{cc.attrs.showUserFilterMenu}"/>
			</ui:fragment>
			
		</h:panelGroup>
	</composite:implementation>
</html>