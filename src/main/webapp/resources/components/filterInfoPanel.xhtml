<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
 	xmlns:menu="http://java.sun.com/jsf/composite/components/menu"
 	xmlns:imj="http://java.sun.com/jsf/composite/components">
	
	<composite:interface>
		<composite:attribute name="fSession" required="false"/>
		<composite:attribute name="filterBean" required="false"/>
		<composite:attribute name="currentMainMenu" required="true"/>
		<composite:attribute name="browseToAllUrl" required="true"/>
		<composite:attribute name="numberOfElements" required="true"/>
		<composite:attribute name="filterBeanHasQuery" required="true" type="java.lang.String"/>
		<composite:attribute name="objectLabel" required="true" type="java.lang.String"/>
	</composite:interface>
	
	<composite:implementation>		
		<h:panelGroup layout="block" id="filterInfoPanel" styleClass="imj_filterInfoPanel" >
			<h:outputText value=" #{cc.attrs.filterBean.totalNumberOfElements} #{objectLabel}"/>
			<imj:SearchFilter/>		
			<h:panelGroup layout="block" styleClass="imj_overlayMenu imj_menuRight #{cc.attrs.menuClass.trim()}Item">
				<div class="imj_menuHeader">
	                   <span class="fa fa-sort">&#160;</span>
					<h:outputText id="txtSort" value="#{lbl.sorting}" styleClass="imj_headerEntry"/>
				</div>
				
				<div class="imj_menuBody">
					<h:form>
						<h:outputText value="#{lbl.sort_by}: " styleClass="imj_active"/>
						<h:commandLink id="lnkSortAsc" value="&#160;" styleClass="fa fa-sort-asc fa-pull-right" action="#{cc.attrs.filterBean.toggleSortOrder}" rendered="#{cc.attrs.filterBean.selectedSortOrder == 'ASCENDING'}"/>
						<h:commandLink id="lnkSortDesc" value="&#160;" styleClass="fa fa-sort-desc fa-pull-right" action="#{cc.attrs.filterBean.toggleSortOrder}" rendered="#{cc.attrs.filterBean.selectedSortOrder != 'ASCENDING'}"/>	
						<ul>
							<ui:repeat var="sortItem" value="#{cc.attrs.filterBean.sortMenu}" varStatus="spos">
								<li>
									<h:commandLink action="#{cc.attrs.filterBean.changeSelectedSortCriterion(sortItem.value)}" value="#{sortItem.label}" styleClass="#{(cc.attrs.filterBean.selectedSortCriterion == sortItem.value) ? 'imj_active' : ''}">
										<f:ajax execute="@this" render=":ajaxWrapper :imj_pageMessageArea"/>
									</h:commandLink>
								</li>
							</ui:repeat>
						</ul>
					</h:form>
				</div>
			</h:panelGroup>
			<menu:StatusFilterMenu/>
			<menu:UserFilterMenu/>
		</h:panelGroup>
	</composite:implementation>
</html>