<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:upload="http://java.sun.com/jsf/composite/components/upload"
	xmlns:license="http://java.sun.com/jsf/composite/components/license">
	
	<composite:interface>
		<composite:attribute name="colId" />
		<composite:attribute name="bean" />
	</composite:interface>
	
	<composite:implementation>
		<div id="uploadDialog" class="imj_modalDialogBox uploadDialog" style="display:none;" >
			<h:form id="uploadForm">
				<ui:fragment rendered="#{cc.attrs.bean.collection.status == 'RELEASED'}">
					#{lbl.move_collection_released}<br/><br/>
					<license:licenseEditor licenseEditor="#{cc.attrs.bean.licenseEditor}" containerId=":actionCollection:uploadDialog:uploadForm" render=":actionCollection:uploadDialog:uploadForm:uploader:licenseVariables"/>
				</ui:fragment>
				<div class="uploadDialogHeadArea imj_submitPanel">
					<a id="closeUploadDialog" onclick="closeDialog('uploadDialog');" class="imj_cancelButton">
						#{lbl.cancel}
					</a>
					<button id="selectFiles" class="imj_submitButton" style="position: initial !important">
						#{lbl.select_files}
					</button>
				</div>
				<div id="uploadDialogDropArea" class="imj_dragOver uploadDialogDropArea"  ondragover="this.style.opacity = .5 " ondragleave="this.style.opacity = 1">
					<div id="uploadTitle" class="uploadDragAndDropTitle">
						<span class="fa fa-upload"/> #{lbl.upload_drag_files_here}...
					</div>
			 	</div>
	           <h:commandButton id="updateItems" value="update" action="#{cc.attrs.bean.update}" style="display:none" onclick="closeDialog('uploadDialog');startLoader();">
	           		<f:ajax execute="@this" render="@form :ajaxWrapper :actionsMenuArea"/>
	           </h:commandButton>
		 		<upload:upload id="uploader" browseButtonId="selectFiles" license="#{cc.attrs.bean.licenseEditor.license}" collectionId="#{cc.attrs.colId}" updateButtonId="actionCollection:uploadDialog:uploadForm:updateItems" dropElementId="uploadDialog"/>		
	 		</h:form>
 		</div>
 		<div class="uploadPanel"/>
	</composite:implementation>
</html>