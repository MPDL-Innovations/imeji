<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:md="http://java.sun.com/jsf/composite/components/metadata">
	<composite:interface>
		<composite:attribute name="formBean" required="true"/>
	</composite:interface>
	
	<composite:implementation>
		<ui:repeat var="metadata" value="#{cc.attrs.formBean.item.metadata}" varStatus="position">
			<div class="imj_metadataSet">
				<div class="imj_metadataLabel">
					<ui:fragment rendered="#{metadata.isEmpty()}">
						<md:select metadataInputComponent="#{metadata}" statementMenu="#{cc.attrs.formBean.statementMenu}"/>
					</ui:fragment>
					<ui:fragment rendered="#{!metadata.isEmpty()}">
						<h:outputText value="#{metadata.statement.index}"/>
					</ui:fragment>
					<span class="imj_invisible">: </span>
				</div>
				<div class="imj_metadataValue">
					<md:input metadataInputComponent="#{metadata}"/>
					<h:commandLink type="submit" rendered="#{!metadata.isEmpty()}" styleClass="fa fa-minus-square-o" action="#{cc.attrs.formBean.item.removeMetadata(position.index)}" value="" title="#{lbl.remove_metadata}">
						<f:ajax execute="@form" render="@form"/>
					</h:commandLink>
				</div>
			</div>
		</ui:repeat>
	</composite:implementation>
</html>