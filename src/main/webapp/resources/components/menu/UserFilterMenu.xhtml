<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:composite="http://java.sun.com/jsf/composite">
	
	<composite:interface>
		<composite:attribute name="menuClass" type="java.lang.String" default="imj_contentMenu" required="true" shortDescription="@type: String, used for the component and will be extended with 'Item' for every menu entry, @default: imj_contentMenu"/>
	</composite:interface>
	
	<composite:implementation>
		<h:panelGroup layout="block" styleClass="imj_overlayMenu imj_menuRight #{cc.attrs.menuClass.trim()}Item" rendered="#{Auth.loggedIn}">
			<div class="imj_menuHeader">
				<ui:fragment rendered="#{UserFilterMenuBean.selected == null}">
	                <span class="fa fa-filter">&#160;</span>
					<h:outputText id="txtFilter" value="#{lbl.filter}" styleClass="imj_headerEntry"/>
				</ui:fragment>
				<h:outputLink id="txtFilter2" value="#{UserFilterMenuBean.removeFilterUrl}" styleClass="imj_headerEntry" rendered="#{UserFilterMenuBean.selected != null}">
					<span class="fa fa-times"/>
					#{UserFilterMenuBean.selected.label}
				</h:outputLink>
				<span>&#160;</span>
			</div>
			<div class="imj_menuBody">
				<h:outputText value="#{lbl.filter_by}:" styleClass="imj_sectionHeadline imj_active"/>
				<ul>
					<ui:fragment rendered="#{UserFilterMenuBean.selected != null}">
						<li>
							<span class="imj_active">
								<a href="#{UserFilterMenuBean.removeFilterUrl}">
									<span class="fa fa-check"/>
									#{UserFilterMenuBean.selected.label}
								</a>						
							</span>
						</li>
					</ui:fragment>
					<ui:repeat var="entry" value="#{UserFilterMenuBean.menu}" varStatus="fpos">
						<ui:fragment rendered="#{UserFilterMenuBean.selected.value != entry.value}">
							<li>
								<span class="fa fa-check" style="visibility:hidden"/>
								<a href="#{UserFilterMenuBean.getFilterUrl(entry.value)}">#{entry.label}</a>						
							</li>
						</ui:fragment>
					</ui:repeat>
				</ul>
			</div>
		</h:panelGroup>
	</composite:implementation>
</html>