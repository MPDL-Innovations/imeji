<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite">
	
	<composite:interface>		
		<composite:attribute name="collectionBean"/>
		<composite:attribute name="role"/>
	</composite:interface>
	
	<composite:implementation>
		<ui:fragment rendered="#{Auth.update}">
			<button id="upload" value="#{lbl.upload}" class="imj_menuButton imj_menuButton">
				#{lbl.upload}
			</button>
			<a href="#{Navigation.collectionUrl}#{cc.attrs.collectionBean.id}/edit" class="imj_menuButton imj_menuButton">
				<span class="fa fa-pencil"/> <span>#{lbl.collection_edit_metadata}</span>
			</a>
			<ui:fragment rendered="#{! empty SessionBean.clipboard}">
				<h:form>
					<h:commandLink id="paste"  action="#{cc.attrs.collectionBean.paste}" styleClass="imj_overlayMenu imj_menuButton">
						 <span class="fa fa-copy"/><span>#{lbl.paste}</span>
					</h:commandLink>
					<h:commandLink id="move" action="#{cc.attrs.collectionBean.move}" styleClass="imj_overlayMenu imj_menuButton">
						 <span class="fa fa-scissors"/><span>#{lbl.move}</span>
					</h:commandLink>
				</h:form>
			</ui:fragment>
			<ui:fragment rendered="#{Auth.admin}">
				<a href="#{Navigation.collectionUrl}#{cc.attrs.collectionBean.id}/share" class="imj_menuButton imj_menuButton">
					<span class="fa fa-users"/> <span>#{lbl.collection_share}</span>
				</a>
				<div class="imj_overlayMenu imj_contentSubMenuItem imj_menuButton" id="actionCollectionMore">
					<div class="imj_menuHeader">
		                  <span class="fa fa-bars"/>
		                  <span class="imj_headerEntry"> #{lbl.more}</span>
					</div>
					<div class="imj_menuBody">
						<ul class="imj_overlayMenuList">
							<h:form>
								<li>
									<a href="#{Navigation.applicationUrl}editbatch?col=#{cc.attrs.collectionBean.id}">
										<span class="fa fa-pencil"/> <span>#{lbl.edit_all}</span>
									</a>
								</li>
								<li>
									<h:commandLink action="#{cc.attrs.collectionBean.delete}">
										 <span class="fa fa-globe"/> <span>#{lbl.collection_release}</span>
									</h:commandLink>
								</li>
								<li>
									<h:commandLink action="#{cc.attrs.collectionBean.delete}">
										 <span class="fa fa-trash"/> <span>#{lbl.collection_delete}</span>
									</h:commandLink>
								</li>
								<li>
									<a href="#{Navigation.applicationUrl}exportServlet?format=zip&amp;col=#{cc.attrs.collectionBean.id}" target="_blank">
										<span class="fa fa-download"/> <span>#{lbl.collection_download}</span>
									</a>
								</li>
								<ui:fragment rendered="#{not empty cc.attrs.collectionBean.query}">
									<li>
										<a href="#{Navigation.applicationUrl}exportServlet?format=zip&amp;col=#{cc.attrs.collectionBean.id}&amp;q=#{cc.attrs.collectionBean.query}" target="_blank">
											<span class="fa fa-download"/> <span>#{lbl.download_search}</span>
										</a>
									</li>
								</ui:fragment>
							</h:form>
						</ul>
					</div>
				</div>
			</ui:fragment>
			<ui:fragment rendered="#{!Auth.admin and Auth.update}">
				<a href="#{Navigation.applicationUrl}exportServlet?format=zip&amp;col=#{cc.attrs.collectionBean.id}" target="_blank" class="imj_overlayMenu imj_menuButton">
					<span class="fa fa-download"/> <span>#{lbl.collection_download}</span>
				</a>
				<ui:fragment rendered="#{not empty cc.attrs.collectionBean.query}">
					<a href="#{Navigation.applicationUrl}exportServlet?format=zip&amp;col=#{cc.attrs.collectionBean.id}&amp;q=#{cc.attrs.collectionBean.query}" target="_blank" class="imj_overlayMenu imj_menuButton">
						<span class="fa fa-download"/> <span>#{lbl.download_search}</span>
					</a>
				</ui:fragment>
			</ui:fragment>	
		</ui:fragment>
		<ui:fragment rendered="#{!Auth.update and Auth.read}">
			<a href="#{Navigation.applicationUrl}exportServlet?format=zip&amp;col=#{cc.attrs.collectionBean.id}" target="_blank" class="imj_overlayMenu imj_menuButton">
				<span class="fa fa-download"/> <span> #{lbl.collection_download}</span>
			</a>
			<ui:fragment rendered="#{not empty cc.attrs.collectionBean.query}">
				<a href="#{Navigation.applicationUrl}exportServlet?format=zip&amp;col=#{cc.attrs.collectionBean.id}&amp;q=#{cc.attrs.collectionBean.query}" target="_blank" class="imj_overlayMenu imj_menuButton">
					<span class="fa fa-download"/> <span> #{lbl.download_search}</span>
				</a>
			</ui:fragment>
		</ui:fragment>
	</composite:implementation>
</html>
