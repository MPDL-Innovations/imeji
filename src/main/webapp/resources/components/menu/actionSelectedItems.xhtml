<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:dialog="http://java.sun.com/jsf/composite/components/dialogs">
	
	<composite:interface>		
		<composite:attribute name="itemsBean"/>								
	</composite:interface>
	
	<composite:implementation>
		#{SessionBean.selected.size()} #{lbl.selected} #{SessionBean.selected.size() > 1 ? lbl.items : lbl.item}:
		<ui:fragment rendered="#{Auth.update}">
			<a href="#{Navigation.applicationUrl}editselected" class="imj_menuButton imj_overlayMenu">
				<span class="fa fa-pencil"/> <span>#{lbl.edit}</span>
			</a>
			<ui:fragment rendered="#{WorkflowBean.delete(cc.attrs.itemsBean.collection)}">
				<a href="#" class="imj_menuButton imj_overlayMenu"  onclick="openDialog('deleteSelectedItems');">
					<span class="fa fa-trash"/> <span>#{lbl.delete}</span>
				</a>
			</ui:fragment>
		</ui:fragment>
		<ui:fragment rendered="#{Auth.admin and WorkflowBean.withdraw(cc.attrs.itemsBean.collection)}">
			<a href="#" class="imj_menuButton imj_overlayMenu"  onclick="openDialog('withdrawSelectedItems');">
				<span class="fa fa-ban"/> <span>#{lbl.withdraw}</span>
			</a>
		</ui:fragment>
		<a id="download" href="#{Navigation.applicationUrl}exportServlet?format=zip" class="imj_overlayMenu imj_menuButton" target="_blank">
			<span class="fa fa-download"/> <span>#{lbl.download}</span>
		</a>
		<ui:fragment rendered="#{Auth.update}">
			<div class="imj_overlayMenu imj_contentSubMenuItem imj_menuButton" id="actionSelectedMore">
				<div class="imj_menuHeader">
	                  <span class="fa fa-bars"></span>
	                  <span class="imj_headerEntry"> #{lbl.more}</span>
				</div>
				<div class="imj_menuBody">
					<ul class="imj_overlayMenuList">
						<li>
							<a href="#{Navigation.applicationUrl}edit/license" id="lnkSelectEditLicense">
								<span class="fa fa-copyright"/> <span>#{lbl.edit_selected_license}</span>
							</a>
						</li>
						<ui:fragment rendered="#{cc.attrs.itemsBean.type == 'COLLECTION_ITEMS' and WorkflowBean.delete(cc.attrs.itemsBean.collection)}">
							<li>
								<h:form>
									<h:commandLink id="moveItems" action="#{MoveItemsBean.searchCollectionsForMove(cc.attrs.itemsBean.collection.id.toString())}" onclick="openDialog('moveItemsDialog');">
										<span class="fa fa-hand-o-right"/> <span>#{lbl.move}..</span>
										<f:ajax render=":actionSelectedItems:moveItemsComponent:moveItemsForm"/>
									</h:commandLink>
								</h:form>
							</li>
						
						</ui:fragment>
					</ul>
				</div>
			</div>
		</ui:fragment>
		<dialog:confirmationReasonedDialog submitAction="withdrawSelected" bean="#{cc.attrs.itemsBean}" confirmationText="#{msg.confirmation_withdraw_selected_item}?" submitLabel="#{lbl.withdraw_selected}" dialogId="withdrawSelectedItems"/>
		<dialog:confirmationDialog submitAction="deleteSelected" bean="#{cc.attrs.itemsBean}" confirmationText="#{msg.confirmation_delete_selected_item}?" submitLabel="#{lbl.delete_selectedImages}" dialogId="deleteSelectedItems" />
		<dialog:moveItemsDialog id="moveItemsComponent" colId="#{cc.attrs.itemsBean.collection.id.toString()}" parentId=":actionSelectedItems:moveItemsComponent" />
	</composite:implementation>
</html>
