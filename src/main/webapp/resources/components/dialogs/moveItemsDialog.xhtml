<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:html5="http://xmlns.jcp.org/jsf/passthrough">
	
	<composite:interface>
		<composite:attribute name="colId" required="true" type="java.lang.Object"/>
		<composite:attribute name="parentId" required="true" type="java.lang.Object"/>
		<composite:attribute name="itemId" required="false" type="java.lang.Object"/>
	</composite:interface>
	
	<composite:implementation>
		<div id="moveItemsDialog" class="imj_modalDialogBox imj_moveItemsDialogBox" style="display:none;">
			<h:form id="moveItemsForm">
				#{lbl.move_to}
				<h:inputText value="#{MoveItemsBean.query}" html5:placeholder="#{lbl.search}">
					<f:ajax render="#{cc.attrs.parentId}:moveItemsForm:list" event="keyup" listener="#{MoveItemsBean.searchCollectionsForMove(cc.attrs.colId)}"/>
				</h:inputText>
				<button onclick="closeDialog('moveItemsDialog');" class="imj_cancelButton">
					#{lbl.cancel}
				</button>
				<h:panelGroup id="list">
					<ui:repeat var="col" value="#{MoveItemsBean.collectionsForMove}">
						<p>
							<h:commandLink rendered="#{cc.attrs.itemId != null}" class="" value="#{col.title}" action="#{MoveItemsBean.moveItemTo(col.id.toString(), cc.attrs.itemId)}"  onclick="startLoader();closeDialog('moveItemsDialog');"/>	
							<h:commandLink rendered="#{cc.attrs.itemId == null}" class="" value="#{col.title}" action="#{MoveItemsBean.moveSelectedTo(col.id.toString())}"  onclick="startLoader();closeDialog('moveItemsDialog');"/>
						</p>
					</ui:repeat>
				</h:panelGroup>
			</h:form>
		</div>
	</composite:implementation>
</html>