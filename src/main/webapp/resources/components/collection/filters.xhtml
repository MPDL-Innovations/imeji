<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
 	xmlns:menu="http://java.sun.com/jsf/composite/components/menu"
 	xmlns:imj="http://java.sun.com/jsf/composite/components">
	
	<composite:interface>
		<composite:attribute name="filterBean" required="true"/>
	</composite:interface>
	
	<composite:implementation>		
		<div id="filterInfoPanel" class="imj_selectionInfoPanel" >
			<h:form>
				<h:panelGroup layout="block" styleClass="imj_overlayMenu imj_menuRight #{cc.attrs.menuClass.trim()}Item">
					<div class="imj_menuHeader">
						<h:commandLink id="lnkSortAsc" value=""  action="#{cc.attrs.filterBean.toggleSortOrder}" onclick="startLoader();">
							<f:ajax execute="@this" render=":ajaxWrapper :Header:imj_pageMessageArea"/>
							<span class="fa #{cc.attrs.filterBean.selectedSortOrder == 'ASCENDING' ? 'fa-arrow-up' : 'fa-arrow-down' }"></span>
							#{lbl.sort_by} #{cc.attrs.filterBean.selectedSortCriterionLabel}
						</h:commandLink>
					</div>
					
					<div class="imj_menuBody">
						<ul>
							<ui:repeat var="sortItem" value="#{cc.attrs.filterBean.sortMenu}" varStatus="spos">
								<ui:fragment rendered="#{cc.attrs.filterBean.selectedSortCriterion != sortItem.value}">
									<li>
										<h:commandLink action="#{cc.attrs.filterBean.changeSelectedSortCriterion(sortItem.value)}" value="#{sortItem.label}" onclick="startLoader();">
											<f:ajax execute="@this" render=":ajaxWrapper :Header:imj_pageMessageArea"/>
										</h:commandLink>
									</li>
								</ui:fragment>
							</ui:repeat>
						</ul>
					</div>
				</h:panelGroup>
			</h:form>
			<menu:StatusFilterMenu rendered="#{!Configuration.privateModus}"/>
			<menu:UserFilterMenu/>
			
		</div>
	</composite:implementation>
</html>