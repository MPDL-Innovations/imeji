<ui:composition
	template="templates/template_site.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:imjc="http://java.sun.com/jsf/composite/components"
	xmlns:menu="http://java.sun.com/jsf/composite/components/menu"
	xmlns:dialog="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:html5="http://xmlns.jcp.org/jsf/passthrough">
	<ui:param name="headline" value="#{lbl.upload_select_collection}" />
	 <ui:define name="mainContent">
	 	<ui:fragment rendered="#{!Auth.loggedIn}">
	 		<ui:include src="./include/LoginFormular.xhtml" />
	 	</ui:fragment>
	 	<ui:fragment rendered="#{Auth.loggedIn}">
	 		<form action="#{Navigation.createCollectionUrl}?showUpload=1">
	 			<input type="text" name="showUpload" value="1" style="display:none;"/>
				<button id="createCollection" class="imj_menuButton">
					#{lbl.collection_create}
				</button >
			</form>
			<br/>#{lbl.or_big}<br/>
			<div class="imj_metadataSet">
				<div class="imj_metadataLabel">
					 <h:form id="filterCollections">
						<h:inputText value="#{UploadBean.query}" html5:placeholder="#{lbl.select_collection}" >
							<f:ajax render=":list" event="keyup" listener="#{UploadBean.filterCollections}"/>
						</h:inputText>
					</h:form>
					<span class="imj_invisible">: </span>
				</div>
				 <h:panelGroup layout="block" id="list" styleClass="imj_metadataValue">
					 <ui:fragment rendered="#{empty UploadBean.collections}">
					 #{lbl.upload_no_collection_found}
					 </ui:fragment>
					<ui:repeat var="col" value="#{UploadBean.collections}">
						<a href="#{Navigation.collectionUrl}#{col.idString}?showUpload=1">#{col.title}</a>
						<br/>
					</ui:repeat>
				</h:panelGroup>
			</div>
	 	</ui:fragment>
	 </ui:define>
</ui:composition>
