<ui:composition
	template="templates/template_site.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:imjc="http://java.sun.com/jsf/composite/components"
	xmlns:menu="http://java.sun.com/jsf/composite/components/menu"
	xmlns:dialog="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:html5="http://xmlns.jcp.org/jsf/passthrough">

	<ui:param name="headline" value="#{lbl.upload_select_collection}" />

	 <ui:define name="mainContent">
	 	<ui:fragment rendered="#{!Auth.loggedIn}">
	 		<ui:include src="./include/LoginFormular.xhtml" />
	 	</ui:fragment>
	 	<ui:fragment rendered="#{Auth.loggedIn}">
	 		<h:form id="filterCollections">
				<h:inputText value="#{UploadBean.query}" html5:placeholder="#{lbl.filter}" >
					<f:ajax render=":list" event="keyup" listener="#{UploadBean.filterCollections}"/>
				</h:inputText>
			</h:form>
			 <h:panelGroup id="list">
				<ui:repeat var="col" value="#{UploadBean.collections}">
					<div class="imj_headline imj_detailList">
					<h2>
						<a href="#{Navigation.collectionUrl}#{col.idString}?showUpload=1">#{col.title}</a>
					</h2>
					</div>
				</ui:repeat>
			</h:panelGroup>
	 	</ui:fragment>
	 </ui:define>
	
</ui:composition>
