<ui:composition template="templates/template_site.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<ui:param name="headline" value="imeji Administration"/>
	<ui:param name="currentMainMenu" value="admin"/>
	
	<ui:define name="mainContent">
	
		<!-- Breadcrumb - History -->
		<ui:include src="include/History.xhtml"></ui:include>
		
		<!-- Are You Admin? -->	
		<h:panelGroup layout="block" styleClass="imj_pageMessageArea" rendered="#{!UsersBean.sysAdmin}">
			<h:outputText value="#{lbl.view_page_disallowed}" styleClass="imj_messageInfo" rendered="#{SessionBean.user == null}"/>
			<h:outputText value="#{lbl.view_page_disallowed2}" styleClass="imj_messageInfo" rendered="#{SessionBean.user != null}"/>
		</h:panelGroup>

		<ui:fragment rendered="#{UsersBean.sysAdmin}">

			<!-- Only for Admins -->				
		
			<!-- Admin - TiledList -->
			<div class="imj_administrationTiledList">
			
				<div class="imj_listBody">
				
					<h:panelGroup layout="block" styleClass="imj_adminPanel imj_userConfig">						
							<div class="imj_headline">
								<h2><h:outputText value="#{lbl.admin_user_info}"/></h2>
							</div>
							<div class="imj_content">
								<ul>
									<li>
										<a href="#{Navigation.applicationUri}/jsf/UserCreate.xhtml" title="#{lbl.admin_user_new}">
											<h:outputText value="#{lbl.admin_user_new}"/>
										</a>
									</li>
									<li>
										<a href="#{Navigation.applicationUrl}jsf/Users.xhtml" title="#{lbl.admin_user_view}">
											<h:outputText value="#{lbl.admin_user_view}" />
										</a>
									</li>
									<li></li>
								</ul>
							</div>												
					</h:panelGroup>				
				
					<h:panelGroup layout="block" styleClass="imj_adminPanel imj_config">
						<ui:fragment rendered="#{UserCreationBean.sysAdmin}">
							<div class="imj_headline">
								<h2><h:outputText value="#{lbl.configuration}"/></h2>
							</div>
							<div class="imj_content">
								<ul>
									<li>
										<a href="#{Navigation.applicationUri}/config" title="#{lbl.edit}">
											<h:outputText value="#{lbl.edit}" />
										</a>
									</li>
								</ul>
							</div>
						</ui:fragment>	
					</h:panelGroup>				
					
					<h:panelGroup layout="block" styleClass="imj_adminPanel imj_storageConfig">
						<ui:fragment rendered="#{UserCreationBean.sysAdmin}">
							<div class="imj_headline">
								<h2><h:outputText value="#{lbl.administration_storage}"/></h2>
							</div>
							<div class="imj_content">
								<ul>
									<li>
										<a href="#{Navigation.applicationUri}/jsf/AdminInterface.xhtml" title="#{lbl.view_detail}">
											<h:outputText value="#{lbl.view_detail}" />
										</a>
									</li>
									<li>
										<a href="#{Navigation.applicationUri}/jsf/AdminStorage.xhtml" title="#{lbl.storage_tools}">
											<h:outputText value="#{lbl.storage_tools}" />
										</a>
									</li>
								</ul>
							</div>
						</ui:fragment>	
					</h:panelGroup>
				
					<h:panelGroup layout="block" styleClass="imj_adminPanel imj_advancedConfig">
						<ui:fragment rendered="#{UserCreationBean.sysAdmin}">
							<div class="imj_headline">
								<h2><h:outputText value="#{lbl.administration_advanced}"/></h2>
							</div>
							<div class="imj_content">
								<h:form>
									<ul>
										<li>
											<h:commandLink action="#{AdminBean.reIndex}" value="#{lbl.admin_advanced_reindex}" title="#{lbl.admin_advanced_reindex}"/>
										</li>
										<li>
											<h:commandLink action="#{AdminBean.status}" value="#{lbl.admin_advanced_state}" title="#{lbl.admin_advanced_state}"/>
										</li>
										<li>
											<h:commandLink action="#{AdminBean.clean}" value="#{lbl.admin_advanced_clean}" title="#{lbl.admin_advanced_clean}"/>
										</li>
									</ul>
								</h:form>
							</div>
						</ui:fragment>	
					</h:panelGroup>
				
				</div> <!-- END LIST BODY -->
			
			</div> <!-- END ADMIN LIST -->
	
		</ui:fragment>
		
	</ui:define>
	
</ui:composition>