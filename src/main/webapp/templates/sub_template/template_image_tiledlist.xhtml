<ui:composition template="../template_site.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:imjc="http://java.sun.com/jsf/composite/components">
	
	<ui:define name="init">
		<h:outputText value="#{paginatorListSessionBean.initPage}"/>
	</ui:define>
	
	<!-- Main Content - Image tiled list - START -->
	<ui:define name="mainContent">
		<script type="text/javascript">
			function setOpacityToImages()
			{
				$("#ajaxList").css({opacity:0.3});
				/*try {document.getElementById('ajaxList').style.opacity = 0.3;}
				catch (e) {/* No opacity*/
				return true;
			};
		</script>
		
		<!-- Confirmation Pages -->
		<ui:include src="../../confirmationPages/AllDelete.xhtml">
			<ui:param name="bean" value="#{paginatorListSessionBean}"/>
		</ui:include>
		<ui:include src="../../confirmationPages/AllWithdraw.xhtml">
			<ui:param name="bean" value="#{paginatorListSessionBean}"/>
		</ui:include>
		<ui:include src="../../confirmationPages/SelectedDelete.xhtml">
			<ui:param name="bean" value="#{paginatorListSessionBean}"/>
		</ui:include>
		<ui:include src="../../confirmationPages/SelectedWithdraw.xhtml">
			<ui:param name="bean" value="#{paginatorListSessionBean}"/>
		</ui:include>
					
		<!-- Breadcrumb - History -->
		<ui:include src="../../include/History.xhtml"></ui:include>
		
		<!-- AJAX Wrapper - START -->
		<h:panelGroup layout="block" id="imj_ajaxWrapper">
			
			<!-- Selection Info Panel -->
			<imjc:selectionInfoPanel fSession="#{FiltersSession}" paginatorBean="#{paginatorListSessionBean}" currentMainMenu="#{currentMainMenu}"/>
			
			<!-- Page Browser GotoBox -->
			<imjc:rangePageBrowserGotobox paginatorBean="#{paginatorListSessionBean}"/>
			
			<!-- Media List -->
			<imjc:tiledMediaList picList="#{paginatorListSessionBean}"/>
			
			<!-- Facets -->
			<h:panelGroup layout="block" id="imj_ajaxFacets">
				<imjc:facets paginatorBean="#{paginatorListSessionBean}"/>
			</h:panelGroup>
			
			
			<h:selectBooleanCheckbox id="facetInitialized" value="false" style="visibility:hidden" styleClass="imj_activateFacets">
				<f:ajax event="change" execute="@this" render=":imj_ajaxFacets" listener="#{paginatorListSessionBean.initFacets}"/>
			</h:selectBooleanCheckbox>
			<script type="text/javascript">
				$(function(){
					$(".imj_activateFacets").click().remove();
				});
			</script>			
			
			<!-- Page Browser GotoBox -->
			<imjc:rangePageBrowserGotobox paginatorBean="#{paginatorListSessionBean}"/>
			
		</h:panelGroup>
		<!-- AJAX Wrapper - END -->
		
	</ui:define>
	<!-- Main Content - END -->
	
</ui:composition>