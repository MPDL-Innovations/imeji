<!DOCTYPE HTML>
<f:view encoding="UTF-8" locale="#{InternationalizationBean.locale}" 
        xmlns:f="http://java.sun.com/jsf/core" 
        xmlns:h="http://java.sun.com/jsf/html" 
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:imjc="http://java.sun.com/jsf/composite/components">
    <f:loadBundle var="lbl" basename="labels"/>
    <f:loadBundle var="msg" basename="messages"/>
    <ui:param name="siteWrapperClass" value="#{Auth.sysAdmin ? 'imj_siteWrapper imj_isAdmin' : 'imj_siteWrapper'}" />

    <html xmlns="http://www.w3.org/1999/xhtml">
        <h:head>
            <ui:include src="component/header/html_head_default.xhtml"/>
            <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
        </h:head>
        <h:body lang="#{InternationalizationBean.locale}">
        	<!-- NEW STYLE - TO BE ADDED TO CSS -->
             <style>
					.edit_selected_table_wrapper{
						width: 100%;
						overflow: auto;
					}
					.edit_selected_table{
						border-collapse: collapse;
						border: 5px solid #444444;
						table-layout: fixed; 
					}
					.edit_selected_table {
						border-collapse: collapse;
						border: 3px solid #444444;
						table-layout: fixed;
						margin: 2px;
					}
					.edit_selected_table textarea, .edit_selected_table input[type]:not(.combobox) {
					   	width:90%;
					}
					.edit_selected_table td{
						vertical-align: middle;
						border: 1px solid #444444; 
						max-width: 15.6em;
						min-width: 15.6em;
						padding:5px;
					}
					.edit_selected_table_button{
						width: 100%;
						text-align: center;
						float: left;
					}
					.edit_selected_table th{
						vertical-align: middle;
						margin:0;
						text-align: center;
						background-color: #444444;
					}
					.edit_selected_table_icon{
						margin-left: 0.5em;
						margin-right: 0.5em;
					}
					.editSelectedWrapper {
					 	position: fixed;
					  	width: 100%;
					  	top: 0;
					  	left: 0;
					  	bottom: 0;
					  	right: 0;
					  	background: #292929;
					  	z-index: 100;
					  	padding-top: 1em;
					  	overflow: auto;
					}
					.editSelectedHeader{
						padding-left: 1em;
					}
					.loaderWrapper{
						position: fixed;
						top: 0;
					  	left: 0;
					  	bottom: 0;
					  	right: 0;
					  	width: 100%;
						overflow: auto;
					  	background: #292929;
					  	z-index: 1000;
					  	height: 100%;
					  	width: 100%;
					  	position: fixed;
					  	overflow: hidden;
					  	opacity: 0.5;
					  	display: none;
					}
					.loader {
					   	position: absolute;
						top: 50%;
						left: 50%;
						z-index: 10001;
						width: 150px;
						height: 150px;
						margin: -75px 0 0 -75px;
						border: 16px solid #5E5E5E;
						border-radius: 50%;
						border-top: 16px solid #61AE2F;
						width: 120px;
						height: 120px;
						-webkit-animation: spin 2s linear infinite;
						animation: spin 2s linear infinite;
						display: none;
					}
					.show{
						display: block;
					}
					
					@keyframes spin {
					    0% { transform: rotate(0deg); }
					    100% { transform: rotate(360deg); }
					}
					.uploadDragAndDropTitle{
						width:100%;
						text-align: center;
						padding: 2em;
					}
                </style>
                <!-- NEW SCIPT - TO BE ADDED TO JS -->
               
            <!-- default necessary scripts, because of use in body-load context -->
            <h:outputScript library="jquery" name="jquery-1.11.1.min.js"/>
            <h:outputScript library="jquery/ui" name="1.10.4/jquery-ui.min.js"/>
            <!-- optional header scripts, which must load before -->
            <ui:insert name="additonalHeaderScripts"/>          
            <!-- global page wrapper -->
            <h:panelGroup id="imeji_maintenance" layout="block" styleClass="imj_messageError" style="width:100%; padding:0.5em" rendered="#{Configuration.maintenanceMessage != ''}">
            	<h:outputText value="#{Configuration.maintenanceMessage}" escape="false"/>
            </h:panelGroup>
            <div class="#{siteWrapperClass}">
            	<div class="imj_allContentWrapper">
	                <ui:insert name="init"/>
	                <ui:include src="component/header/header_default.xhtml"/>
	                 <!-- Search Query -->
	                <ui:insert name="searchQuery"/>
		                 <!-- headline -->
	                 <div class="imj_siteContentHeadline #{empty headline ? 'imj_invisible' : ''}">
	                    <h1>
	                        #{headline.toString().trim()}
	                        <ui:fragment rendered="#{headlineSecondRow != null and headlineSecondRow.toString().trim().length() > 0}">
	                            <br/>
	                            #{headlineSecondRow.toString().trim()}
	                        </ui:fragment>
	                    </h1>
	                </div>
	                <div class="imj_siteContentStatus #{headline.toString().trim().length() == 0 ? 'imj_invisible' : ''}">
	                	<imjc:iconStatus id="status" imejiResource="#{imejiResource}"/>
	                </div>
	               
	                <!-- Actions Menu -->
	                <h:panelGroup layout="block" id="actionsMenuArea">
	               		<ui:insert name="actionsMenu"/>
	                </h:panelGroup>
	                <!-- Message area -->
	                   <h:panelGroup id="imj_pageMessageArea" layout="block" styleClass="imj_pageMessageArea" rendered="#{MessagesBean.hasMessages}">
	
	                       <ui:fragment rendered="#{MessagesBean.hasMessages}">
	                           <ui:fragment rendered="#{MessagesBean.numberOfMessages == 1}">
	                               <h:messages styleClass="imj_messageList"
	                                           errorClass="imj_messageError" warnClass="imj_messageWarn" fatalClass="imj_messageFatal" infoClass="imj_messageInfo" 
	                                           layout="list" globalOnly="false" showDetail="false" showSummary="true"/>
	                           </ui:fragment>
	
	                           <ui:fragment rendered="#{MessagesBean.numberOfMessages != 1}">
	                               <ui:fragment rendered="#{MessagesBean.hasErrorMessages}">
	                                   <div class="imj_messageTitleWarn"><h:outputText value="#{lbl.warning_lblMessageHeader}"/></div>
	                                   <h:messages styleClass="imj_messageList"
	                                               errorClass="imj_messageError" warnClass="imj_messageWarn" fatalClass="imj_messageFatal" infoClass="imj_messageInfo" 
	                                               layout="list" globalOnly="false" showDetail="false" showSummary="true"/>
	                               </ui:fragment>
	
	                               <ui:fragment rendered="#{!MessagesBean.hasErrorMessages}">
	                                   <div class="imj_messageTitleInfo"><h:outputText value="#{lbl.info_lblMessageHeader}"/></div>
	                                   <h:messages styleClass="imj_messageList"
	                                               errorClass="imj_messageError" warnClass="imj_messageWarn" fatalClass="imj_messageFatal" infoClass="imj_messageInfo" 
	                                               layout="list" globalOnly="false" showDetail="false" showSummary="true"/>
	                               </ui:fragment>
	                           </ui:fragment>
	                       </ui:fragment>
	                   </h:panelGroup>
	                <!-- content wrapper -->
	                <div class="imj_mainContentWrapper">
	                    <ui:insert name="mainContent"/>
	                </div>
	               <div class="loaderWrapper"/>
	               <div class="loader"/>
	             </div>
                <!-- footer -->
                <ui:include src="component/footer/footer_default.xhtml"/>
            </div>
            
           
            <!-- modal dialogs -->
            <div class="imj_modalDialogBackground">&#160;</div>
            <ui:insert name="modalDialogs_from_template"/>
            <ui:insert name="modalDialogs_from_site"/>
            <script type="text/javascript">var homeURL = '#{Navigation.applicationUrl}';</script>
            <h:outputScript library="js/" name="default.js"/>

            <div id="additonalFooterScripts" class="imj_noDisplay">
                <ui:insert name="additonalFooterScripts"/> 
            </div>
        </h:body>
    </html>
</f:view>
