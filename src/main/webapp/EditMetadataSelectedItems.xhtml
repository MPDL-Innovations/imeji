<ui:composition template="templates/template_site.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:md="http://java.sun.com/jsf/composite/components/metadata">
	
	<ui:param name="headline" value="#{lbl.edit_selected_items}"/>

	<ui:define name="actionsMenu"></ui:define>

	<ui:define name="mainContent">
		<h:form id="editSelectedForm">
			<div class="">
				<h:outputLink value="">#{lbl.back}</h:outputLink>
				<h:commandLink type="submit" styleClass="imj_submitButton" action="#{EditMetadataSelectedItemsBean.save}" value="#{lbl.save}">
					<f:ajax/>
				</h:commandLink>
			</div>
			<table >
				<tr>
					<th>#{lbl.filename}</th>
					<ui:repeat value="#{EditMetadataSelectedItemsBean.columns}" var="column">
				    	<th>#{column}</th>
				    </ui:repeat>
			  	</tr>
			  	<ui:repeat id="item" value="#{EditMetadataSelectedItemsBean.rows}" var="row">
					<tr style="margin:5px;">
						<td style="border: 5px solid #292929; padding:5px;">#{row.filename}</td>
						<ui:repeat id="metadata" value="#{row.cells}" var="cell">
					    	<td style="border: 5px solid #292929; padding:5px;">
								<ui:repeat id="value" value="#{cell.inputs}" var="input">
									<md:input id="input" metadataInputComponent="#{input}"/>
									<br/>
								</ui:repeat>
								<h:commandLink type="submit"  styleClass="fa fa-plus-square-o" action="#{cell.addValue}" value="#{lbl.add_metadata}" title="#{lbl.add_metadata}">
									<f:ajax execute="@form" render="@form"/>
								</h:commandLink>
							</td>
					    </ui:repeat>
					</tr>
				</ui:repeat>
			</table>
		</h:form>
	</ui:define>
</ui:composition>