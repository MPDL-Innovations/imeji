<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:pretty="http://ocpsoft.com/prettyfaces">

<ui:composition template="template.xhtml">
<body>
<ui:define name="subImagesContent">
	<h:panelGroup styleClass="full_area0 itemBlock">
		
		<h:panelGroup  styleClass="full_area0 small_marginLExcl" rendered="#{SessionBean.user != null}">
		
			<h:panelGroup>
                <h2><h:outputText style="text-align: center;" value="Advanced Metadata Editor"/></h2>
            </h:panelGroup>
            
            <h:outputText value="Choose Metadata to Edit: #{EditWorkspaceBean.defaultInit}"/><br/>
            
            <a4j:repeat id="statementList" var="statement" value="#{EditWorkspaceBean.statementMenu}" rowKeyVar="index">
            	<a4j:commandLink immediate="true" value="#{statement.label}" actionListener="#{EditWorkspaceBean.initTrigger}" reRender="Editor">
					<f:attribute name="statementName" value="#{statement.label}"/>
					<f:attribute name="idOfImageToEdit" value="selected"/>
					<f:attribute name="type" value="BATCH"/>
               </a4j:commandLink>
               <h:outputText value="  "/>
            </a4j:repeat>
	            
           	<h3>
             	<h:outputText styleClass="huge_label" value="Assign one value to all selected images"/>
        
             	<h:outputText styleClass="small_label" value="OR"/> 
             	<h:panelGroup layout="block" styleClass="free_area0">
					<a4j:commandLink value="Edit each images" actionListener="#{EditWorkspaceBean.initTrigger}" reRender="Editor">
						<f:attribute name="statementName" value="#{EditWorkspaceBean.statementToEdit}"/>
						<f:attribute name="idOfImageToEdit" value="selected"/>
						<f:attribute name="type" value="MULTIPLE"/>
						<h:outputText value="  "/>
	               </a4j:commandLink>
				</h:panelGroup>
			</h3>
             	
           	<h:panelGroup styleClass="full_area0" id="Editor">	
           		<h:panelGroup layout="block" styleClass="free_area0 endline">
           			<ui:include src="../picturesPages/ui/EditMetadataPanelContent.xhtml" />
				</h:panelGroup>
           	</h:panelGroup>
           	
           	<h:panelGroup layout="block" styleClass="large_area0">
            	<a4j:commandLink styleClass="free_area1_p8 cancelButton " action="#{EditWorkspaceBean.cancel}" value="#{lbl.cancel}"/>
            	<a4j:commandLink styleClass="free_area1_p8 activeButton" action="#{EditWorkspaceBean.save}" value="#{lbl.save}" status="EditorStatus"/>
           	</h:panelGroup>
           	<h:panelGroup layout="block" styleClass="full_area0">
    			<a4j:status id="EditorStatus" forceId="true" startText="Editing..." />
    		</h:panelGroup>
			
		</h:panelGroup>
	</h:panelGroup>
</ui:define>
</body>
</ui:composition>
</html>