<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:composition template="template.xhtml">
		<ui:define name="contentMenu">
			<h:commandLink id="lnkOrganize" styleClass="free_area0" value="ORGANIZE" rendered="false" />
			<h:outputText styleClass="free_area0" value="ORGANIZE" rendered="true" />
			<h:outputText styleClass="seperator void" />
		</ui:define>
		
		<ui:define name="actionsMenu">
			<h:panelGroup rendered="#{CollectionSession.current.version.objectId != null}">
				<!-- ORGANIZE content menu lower line starts here -->
				
				<h:outputLink id="lnkbrowseCollection" styleClass="free_area0" value="#{Navigation.collectionUrl}/new?action=init" rendered="true">
					<h:outputText value="#{lbl.collection_create}"/>
			    </h:outputLink>
			    <h:outputText styleClass="seperator" rendered="#{CollectionSession.current.state == 'PENDING'}" />
				<h:outputLink id="lnkbrowseCollection" styleClass="free_area0" value="#{Navigation.collectionUrl}/#{CollectionSession.current.latestVersion.objectId}/browse" rendered="true">
					<h:outputText value="#{lbl.collection_browse}"/>
			    </h:outputLink>
				<h:outputText styleClass="seperator" rendered="#{CollectionSession.current.state == 'PENDING'}" />
				<h:outputLink id="lnkEditCollection" styleClass="free_area0" value="#{Navigation.collectionUrl}/edit/#{CollectionSession.current.latestVersion.objectId}" rendered="#{CollectionSession.current.state == 'PENDING'}">
					<h:outputText value="#{lbl.collection_edit}"></h:outputText>
				</h:outputLink>
				<h:outputText styleClass="seperator" rendered="#{CollectionSession.current.state == 'PENDING'}" />
				<h:outputLink id="lnkPublishCollection" styleClass="free_area0" value="#{Navigation.confirmationUrl}/publish/#{CollectionSession.current.latestVersion.objectId}?type=collection" rendered="#{(CollectionSession.current.state == 'PENDING') and (CollectionSession.current.size != '0')}">
					<h:outputText value="#{lbl.collection_publish}"></h:outputText>
				</h:outputLink>
				<h:outputText styleClass="seperator" rendered="#{(CollectionSession.current.state == 'PENDING') and (CollectionSession.current.size != '0')}" />
				<h:outputLink id="lnkDeleteAlbum" styleClass="free_area0" value="#{Navigation.confirmationUrl}/delete/#{CollectionSession.current.latestVersion.objectId}type=collection" rendered="#{CollectionSession.current.state == 'PENDING'}">
					<h:outputText value="#{lbl.collection_delete}"></h:outputText>
				</h:outputLink>
				<h:outputText styleClass="seperator" rendered="#{AlbumSession.current.state == 'RELEASED'}" />
				<h:outputLink id="lnkWithdrawAlbum" styleClass="free_area0" value="#{Navigation.confirmationUrl}/withdraw/#{CollectionSession.current.latestVersion.objectId}type=collection" rendered="#{(CollectionSession.current.state == 'RELEASED') and (CollectionSession.current.owner.objectId == SessionBean.user.reference.objectId)}">
					<h:outputText value="#{lbl.collection_withdraw}"></h:outputText>
				</h:outputLink>
				<h:outputText styleClass="seperator" rendered="#{CollectionSession.current.state == 'PENDING'}" />
				<h:outputLink id="lnkDeleteAlbum" styleClass="free_area0" value="/faces/jsf/Upload.xhtml?collection=#{CollectionSession.current.latestVersion.objectId}" rendered="#{SessionBean.userHandle != null}">
					<h:outputText value="#{lbl.collection_upload}"></h:outputText>
				</h:outputLink>
			</h:panelGroup>
		</ui:define>

		

	</ui:composition>

</html>