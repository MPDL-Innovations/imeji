
<pretty-config xmlns="http://ocpsoft.com/prettyfaces/3.0.2"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://ocpsoft.com/prettyfaces/3.0.2
                                   		http://ocpsoft.com/xml/ns/prettyfaces/ocpsoft-pretty-faces-3.0.2.xsd">

	<!-- Begin RewriteRules -->
	<!-- 
	<rewrite trailingSlash="append" toCase="lowercase" />
	<rewrite match="^/old-url/(\w+)/$" substitute="/new_url/$1/"
		redirect="301" />
	-->
	<!-- Begin UrlMappings -->

	<url-mapping id="home">
		<pattern value="/" />
		<view-id>/jsf/Welcome.xhtml</view-id>
	</url-mapping>
	
	
	<url-mapping id="albums">
		<pattern value="/albums" />
		<view-id>/jsf/Albums.xhtml</view-id>
	</url-mapping>
	
	<url-mapping id="collections">
		<pattern value="/collections" />
		<query-param name="elementsPerPage">#{CollectionsBean.elementsPerPage}</query-param>
		<query-param name="page">#{CollectionsBean.currentPageNumber}</query-param>
		<query-param name="sortBy">#{CollectionsBean.selectedSortCriterion}</query-param>
		<query-param name="sortOrder">#{CollectionsBean.selectedSortOrder}</query-param>
		<view-id>/jsf/Collections.xhtml</view-id>
	</url-mapping>
	
	<url-mapping id="images">
		<pattern value="/images" />
		<query-param name="q">#{ImagesBean.query}</query-param>
		<view-id>/jsf/Images.xhtml</view-id>
	</url-mapping>
	
	<url-mapping id="selected">
		<pattern value="/images/selected" />
		<view-id>/jsf/SelectedView.xhtml</view-id>
	</url-mapping>
	
	<url-mapping id="viewImage">
		<pattern value="/image/#{ImageBean.id}" />
		<view-id>/jsf/Image.xhtml</view-id>
		<action>#{ImageBean.init}</action>
	</url-mapping> 
	
	<url-mapping id="editImage">
		<pattern value="/image/#{ImageBean.id}/#{ImageBean.tab}" />
		<view-id>/jsf/ImageEdit.xhtml</view-id>
	</url-mapping> 
	
	<!-- Collection Pages -->
	<url-mapping id="uploadCollection">
		<pattern value="/upload/collection/#{UploadBean.id}"/>
		<view-id>/jsf/Upload.xhtml</view-id>
		<action onPostback="false">#{UploadBean.init}</action>
	</url-mapping>
	
	<url-mapping id="homeCollection">
		<pattern value="/collection/#{ViewCollectionBean.id}"/>
		<view-id>/jsf/CollectionEntryPage.xhtml</view-id>
		<action>#{ViewCollectionBean.init}</action>
	</url-mapping>
	
	<url-mapping id="viewCollection">
		<pattern value="/collection/#{ViewCollectionBean.id}/details"/>
		<view-id>/jsf/CollectionView.xhtml</view-id>
		<action>#{ViewCollectionBean.init}</action>
	</url-mapping>
	
	<url-mapping id="collectionImages">
		<pattern value="/images/#{CollectionImagesBean.objectClass}/#{CollectionImagesBean.id}"/>
		<view-id>/jsf/CollectionBrowse.xhtml</view-id>
		<action>#{CollectionImagesBean.init}</action>
	</url-mapping>

	<url-mapping id="createCollection">
		<pattern value="/collection"/>
		<view-id>/jsf/CollectionCreate.xhtml</view-id>
	</url-mapping>
	
	
	
	<url-mapping id="editCollection">
		<pattern value="/edit/collection/#{EditCollectionBean.id}"/>
		<view-id>/jsf/CollectionEdit.xhtml</view-id>
		<action onPostback="false">#{EditCollectionBean.init}</action>
	</url-mapping>
	
	<!-- Profile Pages -->
	<url-mapping id="viewProfile">
		<pattern value="/mdprofile/#{ViewMdProfileBean.id}"/>
		<view-id>/jsf/ProfileView.xhtml</view-id>
		<action>#{ViewMdProfileBean.init}</action>
	</url-mapping>
	
	<url-mapping id="createAlbum">
		<pattern value="/album"/>
		<view-id>/jsf/AlbumCreate.xhtml</view-id>
		<action onPostback="false">#{AlbumBean.initCreate}</action>
	</url-mapping>
	
	<url-mapping id="editAlbum">
		<pattern value="edit/album/#{AlbumBean.id}"/>
		<view-id>/jsf/AlbumCreate.xhtml</view-id>
		<action onPostback="false">#{AlbumBean.initEdit}</action>
	</url-mapping>
	
	<url-mapping id="viewAlbum">
		<pattern value="/album/#{AlbumBean.id}"/>
		<view-id>/jsf/AlbumEntryPage.xhtml</view-id>
		<action>#{AlbumBean.initView}</action>
	</url-mapping>
	
	<url-mapping id="viewAlbumDetails">
		<pattern value="/album/#{AlbumBean.id}/details"/>
		<view-id>/jsf/AlbumView.xhtml</view-id>
		<action>#{AlbumBean.initView}</action>
	</url-mapping>
	
	<url-mapping id="albumImages">
		<pattern value="/images/album/#{AlbumImagesBean.id}"/>
		<view-id>/jsf/AlbumBrowse.xhtml</view-id>
		<action>#{AlbumImagesBean.init}</action>
	</url-mapping>
	
	<url-mapping id="createProfile">
		<pattern value="/mdprofile"/>
		<view-id>/jsf/ProfileCreate.xhtml</view-id>
		<action>#{CreateMdProfileBean.init}</action>
	</url-mapping>
	
	<url-mapping id="editProfile">
		<pattern value="/edit/mdprofile/#{EditMdProfileBean.id}"/>
		<view-id>/jsf/ProfileEdit.xhtml</view-id>
		<action onPostback="true">#{EditMdProfileBean.init}</action>
	</url-mapping>
	
	<!-- Search Pages -->
	<url-mapping id="forImages">
		<pattern value="/search"></pattern>
		<view-id>/jsf/SearchPictures.xhtml</view-id>
	</url-mapping>
	
	<url-mapping id="forContainers">
		<pattern value="/search/collections"></pattern>
		<view-id>/jsf/SearchCollections.xhtml</view-id>
	</url-mapping>
	

	
	<url-mapping id="collectionsSearchResults">
		<pattern value="/search/collections/result"></pattern>
		<query-param name="q">#{CollectionsSearchResultBean.query}</query-param>
		<view-id>/jsf/CollectionsSearchResults.xhtml</view-id>
	</url-mapping>
	

</pretty-config>