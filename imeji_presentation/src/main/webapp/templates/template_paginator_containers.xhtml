<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="template_paginator.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

	<ui:define name="contentMenu">

		<h:outputLink id="lnkSort" styleClass="free_area0"
			value="#{Navigation.collectionsUrl}?tab=SORTING"
			rendered="#{paginatorListSessionBean.selectedMenu != 'SORTING'}">
			<h:outputText value="#{lbl.sorting}" />
		</h:outputLink>
		<h:outputText id="txtSortLink" styleClass="free_area0"
			value="#{lbl.sorting}"
			rendered="#{paginatorListSessionBean.selectedMenu == 'SORTING'}" />
		<h:outputText styleClass="seperator void" />

		<h:outputLink id="lnkFilter" styleClass="free_area0"
			value="#{Navigation.collectionsUrl}?tab=FILTER"
			rendered="#{paginatorListSessionBean.selectedMenu != 'FILTER' and SessionBean.user != null}">
			<h:outputText value="#{lbl.filter}" />
		</h:outputLink>
		<h:outputText id="txtFilterLink" styleClass="free_area0"
			value="#{lbl.filter}"
			rendered="#{paginatorListSessionBean.selectedMenu == 'FILTER' }" />
		<h:outputText styleClass="seperator void" />

		<h:outputLink id="lnkCreate" styleClass="free_area0"
			value="#{Navigation.createCollectionUrl}?reset=1"
			rendered="#{SessionBean.user != null}">
			<h:outputText value="#{lbl.collection_create}" />
		</h:outputLink>
		<!--<h:outputText id="textCreateCollection" styleClass="free_area0" value="#{lbl.collection_create}" rendered="#{SessionBean.user != null}"/>-->
		<h:outputText styleClass="seperator void" />
	</ui:define>

	<ui:define name="actionsMenu">
		<h:panelGroup layout="block" styleClass="xHuge_area0 sub action">
			<h:outputText value="#{paginatorListSessionBean.initMenus}" />
			<h:panelGroup
				rendered="#{paginatorListSessionBean.selectedMenu == 'SORTING'}"
				styleClass="free_area0">
				<h:outputText id="txtSort" value="#{lbl.sort_by}"
					styleClass="free_area0" style="margin-top:0.18em;" />
				<h:form>
					<h:selectOneMenu id="selSort"
						value="#{paginatorListSessionBean.selectedSortCriterion}"
						styleClass="free_select" onchange="submit();">
						<f:selectItems id="sortItem"
							value="#{paginatorListSessionBean.sortMenu}" />
					</h:selectOneMenu>
					<h:commandLink id="lnkSortAsc" styleClass="ascSort"
						action="#{paginatorListSessionBean.toggleSortOrder}"
						rendered="#{paginatorListSessionBean.selectedSortOrder == 'ASCENDING'}">&#160;</h:commandLink>
					<h:commandLink id="lnkSortDesc" styleClass="desSort"
						action="#{paginatorListSessionBean.toggleSortOrder}"
						rendered="#{paginatorListSessionBean.selectedSortOrder != 'ASCENDING'}">&#160;</h:commandLink>
				</h:form>
				<h:outputText styleClass="seperator void" />
			</h:panelGroup>

			<h:panelGroup
				rendered="#{paginatorListSessionBean.selectedMenu == 'FILTER' and SessionBean.user != null}"
				styleClass="xHuge_area0">
				<h:outputText id="txtFilter" value="#{lbl.filter_by}"
					styleClass="free_area0" />
				<h:selectOneMenu id="selFilter"
					value="#{paginatorListSessionBean.selectedFilter}"
					styleClass="free_select"
					onchange="window.location.href = '?f=' + this.value">
					<f:selectItems id="filterItem"
						value="#{paginatorListSessionBean.filterMenu}" />
				</h:selectOneMenu>
				<h:outputText styleClass="seperator void" />
			</h:panelGroup>
		</h:panelGroup>
	</ui:define>

	<ui:define name="prelistHeader">

		<h:outputLink styleClass="free_area0 small_marginLExcl"
			value="?q=&amp;f=all" style="margin-right:0.36em;">
			<h:outputText value="#{lbl.all}" />
		</h:outputLink>

		<h:outputText value="#{lbl.search}"
			styleClass="free_area0 xTiny_marginLExcl"
			rendered="#{paginatorListSessionBean.query != ''}" />
		<h:outputLink value="?q="
			rendered="#{paginatorListSessionBean.query != ''}"
			styleClass="free_area0 ">
			<h:outputText value="[x]" styleClass="free_area0 " />
		</h:outputLink>
		<h:outputText value="#{paginatorListSessionBean.filterLabel}"
			styleClass="free_area0 xTiny_marginLExcl"
			rendered="#{paginatorListSessionBean.selectedFilter != 'all'}" />
		<h:outputLink value="?f=all"
			rendered="#{paginatorListSessionBean.selectedFilter != 'all'}"
			styleClass="free_area0 ">
			<h:outputText value="[x]" styleClass="free_area0 " />
		</h:outputLink>
		<h:outputText styleClass="free_area0"
			value=" (#{paginatorListSessionBean.totalNumberOfElements})" />

		<h:outputLink styleClass="free_area0 xTiny_marginRIncl"
			style="float:right" value="#"
			onclick="openDialog('dialogDeleteSelectedContainer');">
			<h:outputText value="#{lbl.delete_selected_collections}"
				rendered="#{SessionBean.user != null}" />
		</h:outputLink>

	</ui:define>


	<ui:define name="list">
		<ui:include src="../collectionPages/CollectionsGridView.xhtml" />
	</ui:define>

	<ui:define name="listFooter">
		<h:outputLink styleClass="free_area0 xTiny_marginRIncl"
			style="float:right" value="#"
			onclick="openDialog('dialogDeleteSelectedContainer');">
			<h:outputText value="#{lbl.delete_selected_collections}"
				rendered="#{SessionBean.user != null}" />
		</h:outputLink>
		<ui:include src="../confirmationPages/SelectedContainerDelete.xhtml" />
	</ui:define>

</ui:composition>
